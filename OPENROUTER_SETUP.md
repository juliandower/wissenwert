# OpenRouter Setup Guide

This guide will help you set up OpenRouter to generate quizzes using GPT-4o-mini.

## Steps

### 1. Get Your OpenRouter API Key

1. Go to https://openrouter.ai/
2. Sign up for an account (it's free)
3. Navigate to https://openrouter.ai/keys
4. Create a new API key
5. Copy the API key

### 2. Create Environment Variables

1. Copy `.env.example` to `.env.local`:
   ```bash
   cp .env.example .env.local
   ```

2. Edit `.env.local` and add your API key:
   ```bash
   OPENROUTER_API_KEY=sk-or-v1-your-actual-api-key-here
   NEXT_PUBLIC_APP_URL=http://localhost:3000
   ```

### 3. Restart Your Dev Server

Stop your current dev server (Ctrl+C) and restart it:
```bash
pnpm dev
```

### 4. Test It Out

1. Go to http://localhost:3000
2. Enter a topic like "World War 2" or "JavaScript"
3. Click "Generate Quiz"
4. The quiz should now be generated by GPT-4o-mini via OpenRouter!

## How It Works

- The frontend calls `/api/generate-quiz`
- The API route uses OpenRouter to call GPT-4o-mini
- GPT-4o-mini generates 10 multiple-choice questions about the topic
- The questions are returned to the frontend and stored in localStorage

## Troubleshooting

**Error: "OpenRouter API key not configured"**
- Make sure you created `.env.local` (not just `.env`)
- Make sure you restarted the dev server after adding the env variable
- Check that your API key starts with `sk-or-v1-`

**Error: "Failed to generate quiz"**
- Check that your OpenRouter account has credits
- Check the console for detailed error messages
- Try a simpler topic first

**Quiz quality issues**
- The system prompt is tuned for educational quizzes
- You can modify the prompt in `app/api/generate-quiz/route.ts`

